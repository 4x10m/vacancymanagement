<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Gestion des stages</title>

		<link rel="stylesheet" type="text/css" href="css/style.css">

		<script language="javascript" type="text/javascript" src="js/jquery.js"></script>
		<script language="javascript" type="text/javascript" src="js/jquery.cookie.js"></script>
		<script language="javascript" type="text/javascript" src="js/request.js"></script>
		<script language="javascript" type="text/javascript" src="js/sha1.js"></script>
		<script language="javascript" type="text/javascript" src="js/string.js"></script>
	</head>
	
	<body>
		<div id="header"></div>

		<!--content-->
			<div id="content">
				<label for="password">Mot de passe</label>
				<input type="text" id="password"/>
				<input type="button" id="validate" value="Valider"/>
			</div>
		<!--/content-->

		<!--wrapper-->
			<script language="javascript" type="text/javascript">
				$('#header').load('inc/header.html');
			</script>
		<!--/wrapper-->

		<!--handler-->
			<script language="javascript" type="text/javascript">
				$(document).ready(function() {
					$('#validate').click(function(event) {
						var id = GetURLParameter('id');
						var code = GetURLParameter('code');
						var password = SHA1($('#password').val());

						request.validateStudentSession(id, code, password);

						$(location).attr('href', 'index.html');
					});
				});

				function GetURLParameter(sParam) {
				    var sPageURL = window.location.search.substring(1);
				    var sURLVariables = sPageURL.split('&');

				    for (var i = 0; i < sURLVariables.length; i++) 
				    {
				        var sParameterName = sURLVariables[i].split('=');
				        if (sParameterName[0] == sParam) 
				        {
				            return sParameterName[1];
				        }
				    }
				}
			</script>
		<!--/handler-->
	</body>
</html>